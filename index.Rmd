---
title: "index.rmd"
author: "Samantha Driesenga sld39"
date: "2/9/2022"
output: html_document
---

```{r setup, include=FALSE}
library(plotly)
library(tidyverse)
```


### Data Overview

The data used for this visual was originally published by the UN Food and Agriculture Organization (FAO). Though it 
does not seem to work for me, this link, included in the sources credited for the figure, leads to the data in its
published form: https://fra-data.fao.org/WO/assessment/fra2020 
Because I was unable to access the link to the original source of the data, no further information was able to be 
obtained. I, however, obtained the data at the following link, under the "Share of Land Covered by Forest" figure:
https://ourworldindata.org/grapher/forest-area-as-share-of-land-area?tab=chart&time=earliest..latest&country=England~Scotland~FRA~USA
Here, there is a tab below titled "Download" with an option to download a csv file containing the dataset used.



```{r load-data}
forest_data <- readr::read_csv('forest-area-as-share-of-land-area.csv')
summary(forest_data)
nrow(forest_data)
#forest_data
glimpse(forest_data)
```

```{r group}
forest_data %>%
  group_by(Entity)
```
```{r ungroup}
forest_data %>%
  ungroup
```


### Wrangling

Although the data is quite wrangled already when downloaded, and is formatted in a suitable way to recreate the original visual, I believe it would be beneficial for others using and interacting with this dataset to be able to discern between the different kinds of entities included, as there are countries, regions, and continents all included without any way to tell each apart or filter accordingly. I intend to create another column for this purpose.

```{r wrangle}
wrangled_forest <- forest_data %>%
  mutate(land_type = as.factor(ifelse(Entity == 'World', 'World',
                            ifelse(!is.na(Code), 'Country', 
                            ifelse(Entity %in% c('Africa' , 'Asia' , 'Central America' , 'Europe' , 'Northern America',  'Oceania' , 'South America') , 'Continent' , 
                                   'Region')))))
wrangled_forest %>%
  arrange(desc(Entity))
```
```{r}
wrangled_forest <- wrangled_forest %>%
  filter(land_type == 'Continent')
wrangled_forest
```

```{r}
Africa_forest <- wrangled_forest %>%
  filter(Entity == 'Africa')
nrow(Africa_forest)
```

```{r}
Asia_forest <- wrangled_forest %>%
  filter(Entity == 'Asia')
nrow(Asia_forest)
```

```{r}
CA_forest <- wrangled_forest %>%
  filter(Entity == 'Central America')
nrow(CA_forest)
```

```{r}
Europe_forest <- wrangled_forest %>%
  filter(Entity == 'Europe')
nrow(Europe_forest)
```

```{r}
NA_forest <- wrangled_forest %>%
  filter(Entity == 'Northern America')
nrow(NA_forest)
```

```{r}
Oceania_forest <- wrangled_forest %>%
  filter(Entity == 'Oceania')
nrow(Oceania_forest)
```

```{r}
SA_forest <- wrangled_forest %>%
  filter(Entity == 'South America')
nrow(SA_forest)
```

```{r}
continent_forest <- data.frame(Africa_forest, Asia_forest, CA_forest, Europe_forest, NA_forest, Oceania_forest, SA_forest)
continent_forest
```

```{r}
continent_forest <- continent_forest %>%
  group_by('Entity')
continent_forest
```

```{r}
plot_vis <- plot_ly(continent_forest, x = ~Year, y = ~forest_cover, name = 'Africa', type = 'scatter', mode = 'lines')

plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.1, name = 'Asia', type = 'scatter', mode = 'lines')
plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.2, name = 'Central America', type = 'scatter', mode = 'lines')
plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.3, name = 'Europe', type = 'scatter', mode = 'lines')
plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.4, name = 'North America', type = 'scatter', mode = 'lines')
plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.5, name = 'Ociania', type = 'scatter', mode = 'lines')
plot_vis <- plot_vis %>% add_trace(y = ~forest_cover.6, name = 'South America', type = 'scatter', mode = 'lines')


plot_vis
```

